{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to RavenDocs","text":"<p>My personal documentation hub for all my home lab projects, network monitoring setups, and more. This site is a collection of detailed records of the various technologies and configurations I've implemented.</p>"},{"location":"#what-youll-find-here","title":"What You'll Find Here","text":"<ul> <li>Home Lab Projects: Documentation on the tools and services I've deployed in your home lab.</li> <li>Network Monitoring: Insights into how I've set up and configured Prometheus and Grafana for network monitoring.</li> <li>Networking Projects: Detailed documentation on various networking projects, including configuring routers, switches, and firewalls.</li> <li>Configuration Records: Detailed notes on configuring network devices and services.</li> </ul>"},{"location":"#featured-documentation","title":"Featured Documentation","text":"<ul> <li>Installing Prometheus &amp; Grafana with Docker</li> <li>Configuring Cisco Switches for Monitoring</li> <li>Adding Prometheus to Grafana</li> <li>Deploying Watchtower in Your Home Lab</li> </ul> <p>RavenDocs Team</p>"},{"location":"about/","title":"About","text":"<p>Welcome to my little technical documentation page</p>"},{"location":"blog/","title":"Blog","text":""},{"location":"homelab/","title":"Introduction","text":""},{"location":"homelab/#welcome-to-my-homelab","title":"Welcome to my Homelab","text":"<p>This section contains documentation on the apps that i deploy in my homelab</p>"},{"location":"homelab/deploying-watchtower/","title":"Deploying Watchtower","text":"<p>Watchtower is a useful tool for automatically updating running (and stopped) Docker containers.</p>"},{"location":"homelab/deploying-watchtower/#docker-compose","title":"Docker Compose","text":"<pre><code>watchtower:\n  image: containrrr/watchtower\n  volumes: \n    - /var/run/docker.sock:/var/run/docker.sock\n  environment:\n    - WATCHTOWER_SCHEDULE=0 0 12 * * *\n    - WATCHTOWER_CLEANUP=true\n  restart: unless-stopped\n</code></pre>"},{"location":"homelab/deploying-watchtower/#environment-variables","title":"Environment Variables","text":"<ul> <li><code>- WATCHTOWER_SCHEDULE</code>: Specifies the schedule for Watchtower to check for updates and update the images. Here, it checks for updates every day at 12PM. The schedule is defined using cron syntax. <code>0 0 12 * * *</code>: This example schedule means that Watchtower will check for updates every day at 12 PM. By default, watchtower will run every day around the time the container was created.</li> <li><code>- WATCHTOWER_CLEANUP=true</code>: Automatically removes old images after updating.</li> </ul> <p>Save the file and start the container with: <pre><code>docker compose up -d\n</code></pre></p> <p>To check if the container is running: <pre><code>docker ps\n</code></pre></p>"},{"location":"homelab/deploying-watchtower/#optional-setting-up-slack-notifications","title":"(Optional) Setting up Slack notifications","text":"<p>Follow this guide to create a webhook for slack notifications.</p>"},{"location":"homelab/deploying-watchtower/#setting-up-notifications","title":"Setting up notifications","text":"<p>Add the following environment variables to the docker compose file <pre><code>environment:\n  - WATCHTOWER_NOTIFICATIONS=slack\n  - WATCHTOWER_NOTIFICATION_SLACK_HOOK_URL=\"your-slack-webhook-url\"\n  - WATCHTOWER_NOTIFICATION_SLACK_IDENTIFIER=watchtower\n</code></pre> Save and restart the container. You should see an update from watchtower in your slack channel like this: </p>"},{"location":"homelab/deploying-watchtower/#conclusion","title":"Conclusion","text":"<p>Watchtower will now keep the Docker containers up to date automatically. For more advanced configurations, refer to the Watchtower documentation.</p>"},{"location":"prometheus/adding-prometheus-to-grafana/","title":"File: prometheus/adding-prometheus-to-grafana.md","text":""},{"location":"prometheus/adding-prometheus-to-grafana/#adding-prometheus-to-grafana","title":"Adding Prometheus to Grafana","text":"<p>This document explains how to add Prometheus as a data source in Grafana for visualization.</p>"},{"location":"prometheus/adding-prometheus-to-grafana/#prerequisites","title":"Prerequisites","text":"<ul> <li>Ensure that you have Grafana installed and running.</li> <li>Prometheus should be up and running, collecting metrics.</li> </ul>"},{"location":"prometheus/adding-prometheus-to-grafana/#steps-to-add-prometheus-to-grafana","title":"Steps to Add Prometheus to Grafana","text":"<ol> <li> <p>Log in to Grafana:    Open your web browser and navigate to your Grafana instance. Log in with your credentials.</p> </li> <li> <p>Add a Data Source:</p> </li> <li>Click on the gear icon (\u2699\ufe0f) in the left sidebar to open the Configuration menu.</li> <li> <p>Select \"Data Sources.\"</p> </li> <li> <p>Select Prometheus:</p> </li> <li>Click on the \"Add data source\" button.</li> <li> <p>Choose \"Prometheus\" from the list of available data sources.</p> </li> <li> <p>Configure the Data Source:</p> </li> <li>In the HTTP section, set the URL to your Prometheus server (e.g., <code>http://localhost:9090</code>).</li> <li> <p>Adjust any other settings as necessary, such as access mode (Server or Browser).</p> </li> <li> <p>Save &amp; Test:</p> </li> <li>Click the \"Save &amp; Test\" button to verify that Grafana can connect to your Prometheus instance.</li> <li> <p>You should see a message indicating that the data source is working.</p> </li> <li> <p>Create a Dashboard:</p> </li> <li>Navigate to the \"+\" icon in the left sidebar and select \"Dashboard.\"</li> <li> <p>Click on \"Add new panel\" to start visualizing your Prometheus metrics.</p> </li> <li> <p>Select Metrics:</p> </li> <li>In the new panel, select your Prometheus data source.</li> <li> <p>Use the query editor to select the metrics you want to visualize.</p> </li> <li> <p>Customize Your Panel:</p> </li> <li>Adjust the visualization type, panel title, and other settings as needed.</li> <li>Click \"Apply\" to save your panel.</li> </ol>"},{"location":"prometheus/adding-prometheus-to-grafana/#conclusion","title":"Conclusion","text":"<p>You have successfully added Prometheus to Grafana. You can now create dashboards and visualize your metrics effectively. For further customization and advanced features, refer to the Grafana documentation.</p>"},{"location":"prometheus/configuring-cisco-switches/","title":"Configuring Cisco Switches for Prometheus","text":""},{"location":"prometheus/configuring-cisco-switches/#introduction","title":"Introduction","text":"<p>I have two cisco switches which i would be adding to prometheus; Catalyst 2960 and 3550. I will configure snmp on those switches. </p>"},{"location":"prometheus/configuring-cisco-switches/#enable-snmp-on-the-cisco-switches","title":"Enable SNMP on the Cisco Switches","text":"<p>Catalyst 3550 configuration <pre><code>interface FastEthernet 0/1\n  ip address 192.168.0.99 255.255.255.0\n  no switchport\n!\nip default-gateway 192.168.0.1\nsnmp-server community public RO\n</code></pre> Catalyst 2960 configuration <pre><code>interface Vlan1\n  ip address 192.168.0.59 255.255.255.0\n!\nip default-gateway 192.168.0.1\nsnmp-server community public RO\n</code></pre></p>"},{"location":"prometheus/configuring-cisco-switches/#install-snmp-exporter","title":"Install SNMP Exporter","text":"<pre><code>snmp-exporter:\n  image: prom/snmp-exporter\n  container_name: snmp_exporter\n  volumes:\n    - /opt/snmp_exporter/snmp.yml:/etc/snmp_exporter/snmp.yml\n  ports:\n    - 9116:9116\n  networks:\n    - monitoring\n</code></pre>"},{"location":"prometheus/configuring-cisco-switches/#configure-prometheus-to-scrape-the-switches","title":"Configure Prometheus to Scrape the Switches","text":"<p>In the Prometheus configuration file (<code>prometheus.yml</code>). <pre><code>scrape_configs:\n  - job_name: 'snmp'\n    metrics_path: /metrics\n      static_configs:\n        - targets:\n            - 192.168.0.99\n            - 192.168.0.57\n      relabel_configs:\n        - source_labels: [__address__]\n          target_label: [__param_target]\n        - source_labels: [__param_target]\n          target_label: instance\n        - target_label: __address__\n          replacement: snmp-exporter:9116\n\n  - job_name: 'snmp-exporter'\n      static_configs:\n        - targets: ['snmp-exporter:9116']\n</code></pre></p> <p>Restarting Prometheus to apply the changes <pre><code>docker restart &lt;container-name/id&gt;\n</code></pre></p>"},{"location":"prometheus/installing-prometheus-and-grafana/","title":"Installing Prometheus &amp; Grafana with Docker","text":"<p>Prometheus is a free tool that helps you monitor and alert you about your systems. Grafana is an open-source platform that helps you visualize and understand your data.  We will integrate prometheus with grafana, which will be used as a data source for visualization</p> <p>I will be installing both of them on a raspberry pi with Docker.</p> <p>Creating an internal network for docker, which will be used to send information between the containers.</p> <pre><code>docker network create monitoring\n</code></pre>"},{"location":"prometheus/installing-prometheus-and-grafana/#dockerfile","title":"Dockerfile","text":"<pre><code>services:\n  prometheus:\n     image: prom/prometheus\n     volumes:\n       - /opt/prometheus/prometheus.yml:/etc/prometheus/prometheus.yml\n     networks:\n       - monitoring\n\n   grafana:\n     image: grafana/grafana\n     networks:\n       - monitoring\n\n   networks:\n     monitoring:\n       external: true\n</code></pre>"}]}